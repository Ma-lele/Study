(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10495d54"],{"057f":function(e,t,n){var r=n("fc6a"),i=n("241c").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},"159b":function(e,t,n){var r=n("da84"),i=n("fdbc"),o=n("17c2"),a=n("9112");for(var s in i){var c=r[s],u=c&&c.prototype;if(u&&u.forEach!==o)try{a(u,"forEach",o)}catch(f){u.forEach=o}}},1893:function(e,t,n){},"4c63":function(e,t,n){e.exports=n.p+"static/img/login_build.b71b9257.png"},5530:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},"746f":function(e,t,n){var r=n("428f"),i=n("5135"),o=n("e538"),a=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},"793e":function(e,t,n){"use strict";var r=n("a8ff"),i=n.n(r);i.a},8418:function(e,t,n){"use strict";var r=n("c04e"),i=n("9bf2"),o=n("5c6c");e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},"95d3":function(e,t,n){"use strict";var r=n("1893"),i=n.n(r);i.a},"9ed6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:!e.singleLoading,expression:"!singleLoading"}],staticClass:"login-container"},[r("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[r("div",{staticClass:"loginBox-left"},[r("h2",[e._v("WELCOME TO")]),r("h3",[e._v("WUXI LIVE BUILT BUREAU")]),r("p",[e._v("请登录后使用智慧城市系统")]),r("img",{attrs:{src:n("4c63"),alt:""}})]),r("div",{staticClass:"loginBox-right"},[r("div",{staticClass:"title-container"},[r("h3",{staticClass:"title"},[e._v("登录")]),r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{placeholder:"账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),r("el-button",{staticClass:"login-button",attrs:{loading:e.loading},on:{click:e.handleLogin}},[e._v("登 录")]),r("div",{staticClass:"login_pswtip"},[r("span",{on:{click:e.onPswTip}},[e._v("忘记密码了")])])],1)])])],1)},i=[],o=(n("b0c0"),n("ac1f"),n("5319"),n("96cf"),n("1da1")),a=n("5530"),s=n("2f62"),c=n("365c"),u=n("4360"),f={name:"Login",data:function(){var e=function(e,t,n){t?t&&t.length<6?n(new Error("密码不少于6位")):n():n(new Error("请输入密码"))};return{singleLoading:!0,loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",validator:e}]},loading:!1,passwordType:"password",redirect:void 0,logintitle:"  ",query:this.$route.query}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},mounted:function(){"SingleSignOn"==this.$route.name?this.handleSingleLogin():this.singleLoading=!1},methods:Object(a["a"])(Object(a["a"])({},Object(s["b"])(["login","singlelogin"])),{},{showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(n){var r,i,o,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=29;break}return e.loading=!0,t.next=4,e.login(e.loginForm);case 4:if(r=t.sent,i=r.success,o=r.data,a=r.msg,!i){t.next=25;break}return window.sessionStorage.setItem("isSingle",""),window.sessionStorage.setItem("loginTime",Math.round(new Date/1e3)),window.sessionStorage.setItem("invalidTime",o.expires_in),t.next=14,c["a"].getMenuList();case 14:if(s=t.sent,!s.success){t.next=22;break}return u["a"].commit("SET_MENU_LIST",s.data),t.next=19,u["a"].dispatch("getGroupList");case 19:e.$router.replace("/dashboard/index"),t.next=23;break;case 22:e.$message.error(s.msg);case 23:t.next=26;break;case 25:e.$message.error(a);case 26:e.loading=!1,t.next=30;break;case 29:return t.abrupt("return",!1);case 30:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},handleSingleLogin:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,i,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.singlelogin(e.query);case 2:if(n=t.sent,r=n.success,i=n.data,o=n.msg,!r){t.next=24;break}return window.sessionStorage.setItem("loginTime",Math.round(new Date/1e3)),window.sessionStorage.setItem("invalidTime",i.expires_in),window.sessionStorage.setItem("isSingle","isSingle"),t.next=12,c["a"].getMenuList();case 12:if(a=t.sent,!a.success){t.next=20;break}return u["a"].commit("SET_MENU_LIST",a.data),t.next=17,u["a"].dispatch("getGroupList");case 17:e.$router.push("/"+e.query.page+"/index"),t.next=22;break;case 20:e.singleLoading=!1,e.$message.error(a.msg);case 22:t.next=26;break;case 24:e.singleLoading=!1,e.$message.error(o);case 26:case"end":return t.stop()}}),t)})))()},onPswTip:function(){this.$message({type:"warning",message:"请联系管理员找回密码"})}})},l=f,g=(n("793e"),n("95d3"),n("2877")),d=Object(g["a"])(l,r,i,!1,null,"380d6216",null);t["default"]=d.exports},a4d3:function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("d066"),a=n("c430"),s=n("83ab"),c=n("4930"),u=n("fdbf"),f=n("d039"),l=n("5135"),g=n("e8b5"),d=n("861d"),p=n("825a"),b=n("7b0b"),m=n("fc6a"),h=n("c04e"),w=n("5c6c"),v=n("7c73"),y=n("df75"),O=n("241c"),S=n("057f"),x=n("7418"),j=n("06cf"),k=n("9bf2"),P=n("d1e7"),E=n("9112"),L=n("6eeb"),T=n("5692"),_=n("f772"),$=n("d012"),F=n("90e3"),I=n("b622"),C=n("e538"),D=n("746f"),q=n("d44e"),N=n("69f3"),M=n("b727").forEach,R=_("hidden"),U="Symbol",B="prototype",J=I("toPrimitive"),W=N.set,G=N.getterFor(U),A=Object[B],Q=i.Symbol,V=o("JSON","stringify"),X=j.f,z=k.f,H=S.f,K=P.f,Y=T("symbols"),Z=T("op-symbols"),ee=T("string-to-symbol-registry"),te=T("symbol-to-string-registry"),ne=T("wks"),re=i.QObject,ie=!re||!re[B]||!re[B].findChild,oe=s&&f((function(){return 7!=v(z({},"a",{get:function(){return z(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=X(A,t);r&&delete A[t],z(e,t,n),r&&e!==A&&z(A,t,r)}:z,ae=function(e,t){var n=Y[e]=v(Q[B]);return W(n,{type:U,tag:e,description:t}),s||(n.description=t),n},se=u?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Q},ce=function(e,t,n){e===A&&ce(Z,t,n),p(e);var r=h(t,!0);return p(n),l(Y,r)?(n.enumerable?(l(e,R)&&e[R][r]&&(e[R][r]=!1),n=v(n,{enumerable:w(0,!1)})):(l(e,R)||z(e,R,w(1,{})),e[R][r]=!0),oe(e,r,n)):z(e,r,n)},ue=function(e,t){p(e);var n=m(t),r=y(n).concat(pe(n));return M(r,(function(t){s&&!le.call(n,t)||ce(e,t,n[t])})),e},fe=function(e,t){return void 0===t?v(e):ue(v(e),t)},le=function(e){var t=h(e,!0),n=K.call(this,t);return!(this===A&&l(Y,t)&&!l(Z,t))&&(!(n||!l(this,t)||!l(Y,t)||l(this,R)&&this[R][t])||n)},ge=function(e,t){var n=m(e),r=h(t,!0);if(n!==A||!l(Y,r)||l(Z,r)){var i=X(n,r);return!i||!l(Y,r)||l(n,R)&&n[R][r]||(i.enumerable=!0),i}},de=function(e){var t=H(m(e)),n=[];return M(t,(function(e){l(Y,e)||l($,e)||n.push(e)})),n},pe=function(e){var t=e===A,n=H(t?Z:m(e)),r=[];return M(n,(function(e){!l(Y,e)||t&&!l(A,e)||r.push(Y[e])})),r};if(c||(Q=function(){if(this instanceof Q)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=F(e),n=function(e){this===A&&n.call(Z,e),l(this,R)&&l(this[R],t)&&(this[R][t]=!1),oe(this,t,w(1,e))};return s&&ie&&oe(A,t,{configurable:!0,set:n}),ae(t,e)},L(Q[B],"toString",(function(){return G(this).tag})),L(Q,"withoutSetter",(function(e){return ae(F(e),e)})),P.f=le,k.f=ce,j.f=ge,O.f=S.f=de,x.f=pe,C.f=function(e){return ae(I(e),e)},s&&(z(Q[B],"description",{configurable:!0,get:function(){return G(this).description}}),a||L(A,"propertyIsEnumerable",le,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Q}),M(y(ne),(function(e){D(e)})),r({target:U,stat:!0,forced:!c},{for:function(e){var t=String(e);if(l(ee,t))return ee[t];var n=Q(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(l(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:fe,defineProperty:ce,defineProperties:ue,getOwnPropertyDescriptor:ge}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:de,getOwnPropertySymbols:pe}),r({target:"Object",stat:!0,forced:f((function(){x.f(1)}))},{getOwnPropertySymbols:function(e){return x.f(b(e))}}),V){var be=!c||f((function(){var e=Q();return"[null]"!=V([e])||"{}"!=V({a:e})||"{}"!=V(Object(e))}));r({target:"JSON",stat:!0,forced:be},{stringify:function(e,t,n){var r,i=[e],o=1;while(arguments.length>o)i.push(arguments[o++]);if(r=t,(d(t)||void 0!==e)&&!se(e))return g(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!se(t))return t}),i[1]=t,V.apply(null,i)}})}Q[B][J]||E(Q[B],J,Q[B].valueOf),q(Q,U),$[R]=!0},a8ff:function(e,t,n){},b0c0:function(e,t,n){var r=n("83ab"),i=n("9bf2").f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/,c="name";r&&!(c in o)&&i(o,c,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},b64b:function(e,t,n){var r=n("23e7"),i=n("7b0b"),o=n("df75"),a=n("d039"),s=a((function(){o(1)}));r({target:"Object",stat:!0,forced:s},{keys:function(e){return o(i(e))}})},dbb4:function(e,t,n){var r=n("23e7"),i=n("83ab"),o=n("56ef"),a=n("fc6a"),s=n("06cf"),c=n("8418");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,n,r=a(e),i=s.f,u=o(r),f={},l=0;while(u.length>l)n=i(r,t=u[l++]),void 0!==n&&c(f,t,n);return f}})},e439:function(e,t,n){var r=n("23e7"),i=n("d039"),o=n("fc6a"),a=n("06cf").f,s=n("83ab"),c=i((function(){a(1)})),u=!s||c;r({target:"Object",stat:!0,forced:u,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},e538:function(e,t,n){var r=n("b622");t.f=r}}]);