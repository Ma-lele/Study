(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ef48bbc"],{"22f4":function(t,e,a){"use strict";var n=a("ae31"),i=a.n(n);i.a},"28b1":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{width:"100%","overflow-x":"hidden"}},[a("el-row",{staticClass:"mt20 mb20",attrs:{type:"flex",justify:"space-around",gutter:60}},t._l(t.companyTypes,(function(e){return a("el-col",{key:e.type,staticClass:"item-col",attrs:{lg:{span:"4-8"},md:8,sm:12,xs:24}},[a("div",{staticClass:"item-container",class:{active:t.currType==e.type},on:{click:function(a){return t.companyTypeChange(e.type)}}},[a("p",{staticClass:"name"},[t._v(t._s(e.name))]),a("p",{staticClass:"value"},[t._v(t._s(t.data[e.colname]))]),a("i",{staticClass:"corner-top-right"}),a("i",{staticClass:"corner-bottom-right"})])])})),1)],1),a("div",{staticClass:"filter-container"},[a("span",{staticClass:"title"},[t._v("单位统计详情")]),a("el-input",{staticStyle:{width:"256px"},attrs:{placeholder:"请输入内容"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.getUnitStatistics()}},slot:"append"})],1)],1),a("el-table",{staticClass:"mb20",staticStyle:{cursor:"default"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"unitName",label:"单位名称","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"unitTypeName",label:"单位类型",align:"center"}}),a("el-table-column",{attrs:{prop:"contactName",label:"负责人",align:"center"}}),a("el-table-column",{attrs:{prop:"contactPhone",label:"联系方式",align:"center"}}),a("el-table-column",{attrs:{prop:"unifiedSocialCreditCode",label:"统一信用代码",align:"center"}}),a("el-table-column",{attrs:{prop:"relativeProjectEmployeeCount",label:"项目关联人员",align:"center"}})],1),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{layout:"prev, pager, next","page-size":t.pagesize,"current-page":t.pageindex,total:t.totalcount},on:{"current-change":t.pageChange}})],1),a("el-dialog",{attrs:{visible:t.dialogVisible,width:"62.5%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("ul",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[a("li",{class:{active:0==t.tabIndex},on:{click:function(e){return t.changeType(0)}}},[t._v(" 基本信息 ")])]),0==t.tabIndex?a("base-info",{attrs:{"credit-code":t.unifiedSocialCreditCode}}):t._e(),1==t.tabIndex?a("project-list",{attrs:{"credit-code":t.unifiedSocialCreditCode}}):t._e(),2==t.tabIndex?a("punish-list"):t._e()],1)],1)},i=[],l=(a("b64b"),a("ac1f"),a("1276"),a("96cf"),a("1da1")),o=a("2f62"),s=a("365c"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"form",staticStyle:{height:"62.2vh"},attrs:{model:t.form,"label-width":"150px","label-position":"right","label-suffix":":"}},[a("el-form-item",{attrs:{label:"单位名称"}},[a("p",{staticClass:"form-item-value"},[t._v(t._s(t.form.unitName))])]),a("el-form-item",{attrs:{label:"单位类型"}},[a("p",{staticClass:"form-item-value"},[t._v(t._s(t.form.unitTypeName))])]),a("el-form-item",{attrs:{label:"统一信用代码"}},[a("p",{staticClass:"form-item-value"},[t._v(t._s(t.form.unifiedSocialCreditCode))])]),a("el-form-item",{attrs:{label:"法人姓名"}},[a("p",{staticClass:"form-item-value"},[t._v(t._s(t.form.contactName))])]),a("el-form-item",{attrs:{label:"法人联系方式"}},[a("p",{staticClass:"form-item-value"},[t._v(t._s(t.form.contactPhone))])])],1)],1)},c=[],p={props:{creditCode:{type:String,default:""}},data:function(){return{form:{}}},watch:{creditCode:{immediate:!0,deep:!0,handler:function(t,e){this.getUnitInfo()}}},mounted:function(){},methods:{onSubmit:function(){console.log("submit!")},getUnitInfo:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].getUnitInfo({creditCode:t.creditCode});case 2:a=e.sent,n=a.success,i=a.data,n&&(t.form=i);case 6:case"end":return e.stop()}}),e)})))()}}},u=p,d=(a("491a"),a("3774"),a("2877")),m=Object(d["a"])(u,r,c,!1,null,"7b444550",null),f=m.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"filter-container"},[a("span",{staticClass:"title"}),a("el-input",{staticStyle:{width:"256px"},attrs:{placeholder:"请输入内容"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1),a("el-table",{staticClass:"mb20",attrs:{data:t.tableData,stripe:"",height:"71vh","empty-text":"暂无数据"}},[a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(e.row.name))]),a("p",[t._v(t._s(e.row.no))]),a("p",[t._v(t._s(e.row.createDate))])]}}])},[a("template",{slot:"header"},[a("p",[t._v("项目名称")]),a("p",[t._v("项目编号")]),a("p",[t._v("新增日期")])])],2),a("el-table-column",{attrs:{prop:"type",label:"项目类型"}}),a("el-table-column",{attrs:{prop:"status",label:"项目状态"}}),a("el-table-column",{attrs:{prop:"area",label:"所属区域"}}),a("el-table-column",{attrs:{prop:"address",label:"项目地址"}}),a("el-table-column",{attrs:{prop:"project",label:"参建单位"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[a("span",{staticClass:"company-type"},[t._v("建设")]),t._v(t._s(e.row.buildCompany)+" ")]),a("p",[a("span",{staticClass:"company-type"},[t._v("施工")]),t._v(t._s(e.row.constructionCompany)+" ")]),a("p",[a("span",{staticClass:"company-type"},[t._v("监理")]),t._v(t._s(e.row.superviseCompany)+" ")]),a("p",[a("span",{staticClass:"company-type"},[t._v("审查")]),t._v(t._s(e.row.examinationCompany)+" ")]),a("p",[a("span",{staticClass:"company-type"},[t._v("设计")]),t._v(t._s(e.row.designCompany)+" ")])]}}])}),a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(e.row.size))]),a("p",[t._v(t._s(e.row.cost))])]}}])},[a("template",{slot:"header"},[a("p",[t._v("建筑面积")]),a("p",[t._v("投资金额")])])],2),a("el-table-column",{attrs:{prop:"isCity",label:"是否市管项目"}}),a("el-table-column",{attrs:{prop:"punishCount"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(e.row.startDate))]),a("p",[t._v(t._s(e.row.endDate))])]}}])},[a("template",{slot:"header"},[a("p",[t._v("计划开工日期")]),a("p",[t._v("计划竣工日期")])])],2),a("el-table-column",{attrs:{label:"危大设备信息",align:"left"}},[a("el-table-column",{attrs:{prop:"towerCrane",label:"塔吊"}}),a("el-table-column",{attrs:{prop:"elevator",label:"升降机"}}),a("el-table-column",{attrs:{prop:"unload",label:"卸料平台"}})],1)],1),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{layout:"prev, pager, next",total:50}})],1)],1)},v=[],h={data:function(){return{keyword:"",tableData:[]}},mounted:function(){}},y=h,C=(a("769a"),a("22f4"),Object(d["a"])(y,b,v,!1,null,"3bc74e16",null)),g=C.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"filter-container"},[a("span",{staticClass:"title"}),a("el-input",{staticStyle:{width:"256px"},attrs:{placeholder:"请输入内容"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1),a("el-table",{staticClass:"mb20",attrs:{data:t.tableData,stripe:"",height:"51vh"}},[a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(e.row.name))])]}}])},[a("template",{slot:"header"},[a("p",[t._v("项目名称")])])],2),a("el-table-column",{attrs:{prop:"punishTime",label:"处罚时间",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"type",label:"处罚类型",width:"100"}}),a("el-table-column",{attrs:{prop:"content",label:"处罚内容"}}),a("el-table-column",{attrs:{prop:"person",label:"处罚人",width:"100"}}),a("el-table-column",{attrs:{prop:"score",label:"扣分",width:"100",align:"center"}})],1),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{layout:"prev, pager, next",total:50}})],1)],1)},w=[],X={data:function(){return{keyword:"",tableData:[]}},mounted:function(){for(var t=0;t<20;t++)this.tableData.push({name:"无锡中匠建业建设工程有限公司",punishTime:"2020.02.03",type:"行政处罚",content:"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",person:"欧阳娜娜",score:"4"})}},x=X,k=(a("e6c5"),a("7034"),Object(d["a"])(x,_,w,!1,null,"63d1ceac",null)),S=k.exports,T={components:{BaseInfo:f,ProjectList:g,PunishList:S},data:function(){return{data:[],currType:0,companyTypes:[{type:1,name:"建设单位",colname:"developmentUnitCount"},{type:2,name:"施工单位",colname:"constructionUnitCount"},{type:3,name:"监理单位",colname:"supervisionUnitCount"},{type:4,name:"勘察单位",colname:"reviewUnitCount"},{type:5,name:"设计单位",colname:"designUnitCount"}],keyword:null,page:null,totalcount:0,pageindex:1,pagesize:10,unifiedSocialCreditCode:"",tableData:[],dialogVisible:!1,tabIndex:0}},computed:Object(o["c"])(["CITY"]),watch:{CITY:{immediate:!0,deep:!0,handler:function(t,e){0!=Object.keys(t).length&&(this.pageindex=1,this.currType=0,this.getUnitStatistics(),this.getUnitCount())}}},methods:{getUnitCount:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a,n,i,l,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.CITY.city,n="",i=a.split("市"),2==i.length&&i[1]?(a=i[0]+"市",n=i[1]):n=0==t.CITY.GROUPID?void 0:t.CITY.groupshortname,e.next=6,s["a"].getUnitCount({city:a,district:n});case 6:l=e.sent,o=l.success,r=l.data,o&&(t.data=r);case 10:case"end":return e.stop()}}),e)})))()},companyTypeChange:function(t){this.currType=this.currType==t?0:t,this.pageindex=1,this.getUnitStatistics()},handleClick:function(t){this.unifiedSocialCreditCode=t.unifiedSocialCreditCode,this.dialogVisible=!0},changeType:function(t){this.tabIndex=t},pageChange:function(t){this.pageindex=t,this.getUnitStatistics()},getUnitStatistics:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a,n,i,l,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.CITY.city,n="",i=a.split("市"),2==i.length&&i[1]?(a=i[0]+"市",n=i[1]):n=0==t.CITY.GROUPID?void 0:t.CITY.groupshortname,e.next=6,s["a"].getUnitStatistics({city:a,district:n,pageindex:t.pageindex,pagesize:t.pagesize,keyword:t.keyword?t.keyword:void 0,CompanyType:t.currType});case 6:l=e.sent,o=l.success,r=l.data,o&&(r.items.length>0?t.totalcount=r.totalCount:t.totalcount=0,t.tableData=r.items,t.unifiedSocialCreditCode=r.items.unifiedSocialCreditCode);case 10:case"end":return e.stop()}}),e)})))()}}},I=T,U=(a("db27"),Object(d["a"])(I,n,i,!1,null,"2dc9443d",null));e["default"]=U.exports},3774:function(t,e,a){"use strict";var n=a("a7c6"),i=a.n(n);i.a},"491a":function(t,e,a){"use strict";var n=a("96dc"),i=a.n(n);i.a},"57fb":function(t,e,a){},7034:function(t,e,a){"use strict";var n=a("822a"),i=a.n(n);i.a},"769a":function(t,e,a){"use strict";var n=a("a1b9"),i=a.n(n);i.a},"822a":function(t,e,a){},"96dc":function(t,e,a){},a1b9:function(t,e,a){},a7c6:function(t,e,a){},ae31:function(t,e,a){},baa8:function(t,e,a){},db27:function(t,e,a){"use strict";var n=a("baa8"),i=a.n(n);i.a},e6c5:function(t,e,a){"use strict";var n=a("57fb"),i=a.n(n);i.a}}]);