{"version":3,"sources":["webpack:///src/views/Permission/Module.vue","webpack:///./src/views/Permission/Module.vue?1fbe","webpack:///./src/views/Permission/Module.vue"],"names":["Module","components","Toolbar","data","buttonList","filters","ApiUrl","users","total","page","pageSize","listLoading","addDialogFormVisible","editFormVisible","editLoading","editFormRules","required","message","trigger","editForm","Id","Name","Enabled","addFormVisible","addLoading","addFormRules","addForm","canEdit","canDelete","methods","callFunction","item","this","name","search","Func","apply","handleCurrentChange","val","getModules","_this2","para","size","keyword","Object","api","then","res","dataCount","handleDel","index","r","_this3","row","$confirm","type","id","date","isEmt","format","success","$message","msg","catch","handleEdit","assign_default","handleAdd","editSubmit","_this4","$refs","validate","valid","resetFields","addSubmit","_this5","apiAsync","_this6","asyncToGenerator_default","regenerator_default","a","mark","_callee","loading","wrap","_context","prev","next","$loading","lock","text","spinner","background","close","stop","mounted","_this7","routers","window","sessionStorage","router","JSON","parse","promissionRouter","$route","path","forEach","element","push","Permission_Module","render","_vm","_h","$createElement","_c","_self","attrs","on","_v","directives","rawName","value","expression","staticStyle","width","row-class-name","$tableRowClassName","scopedSlots","_u","key","fn","scope","domProps","textContent","_s","$index","prop","label","sortable","plain","click","$event","_e","staticClass","span","float","layout","page-size","current-page","current-change","title","visible","close-on-click-modal","update:visible","model","callback","$$v","ref","label-width","rules","auto-complete","$set","slot","nativeOn","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"../static/js/11.5ee3cf5120055a5f5c6b.js","sourcesContent":["<template>\n    <section>\n        <!--工具条-->\n        <toolbar\n            :buttonList=\"buttonList\"\n            @callFunction=\"callFunction\"\n        ></toolbar>\n\n        <!--列表-->\n        <el-table\n            :data=\"users\"\n            :row-class-name=\"$tableRowClassName\"\n            v-loading=\"listLoading\"\n            style=\"width: 100%\"\n        >\n            <!-- <el-table-column type=\"selection\" width=\"50\"> </el-table-column> -->\n            <el-table-column type=\"index\" width=\"80\">\n                <template slot-scope=\"scope\">\n                    <div\n                        v-text=\"(page - 1) * pageSize + 1 + scope.$index\"\n                    ></div>\n                </template>\n            </el-table-column>\n            <el-table-column prop=\"ApiUrl\" label=\"接口地址\" width=\"\" sortable>\n            </el-table-column>\n            <el-table-column prop=\"Name\" label=\"描述\" width=\"\" sortable>\n            </el-table-column>\n            <el-table-column\n                label=\"操作\"\n                width=\"150\"\n                v-if=\"canEdit || canDelete\"\n            >\n                <template slot-scope=\"scope\">\n                    <el-button\n                        v-if=\"canEdit\"\n                        plain\n                        type=\"warning\"\n                        size=\"small\"\n                        @click=\"handleEdit(scope.$index, scope.row)\"\n                        >编辑</el-button\n                    >\n                    <el-button\n                        v-if=\"canDelete\"\n                        plain\n                        type=\"danger\"\n                        size=\"small\"\n                        @click=\"handleDel(scope.$index, scope.row)\"\n                        >删除</el-button\n                    >\n                </template>\n            </el-table-column>\n        </el-table>\n\n        <!--工具条-->\n        <el-col :span=\"24\" class=\"toolbar\">\n            <el-pagination\n                layout=\"total, prev, pager, next, jumper\"\n                @current-change=\"handleCurrentChange\"\n                :page-size=\"pageSize\"\n                :current-page=\"page\"\n                :total=\"total\"\n                style=\"float: right\"\n            >\n            </el-pagination>\n        </el-col>\n\n        <!--编辑界面-->\n        <el-dialog\n            title=\"编辑\"\n            :visible.sync=\"editFormVisible\"\n            v-model=\"editFormVisible\"\n            :close-on-click-modal=\"false\"\n        >\n            <el-form\n                :model=\"editForm\"\n                label-width=\"80px\"\n                :rules=\"editFormRules\"\n                ref=\"editForm\"\n            >\n                <el-form-item label=\"接口地址\" prop=\"ApiUrl\">\n                    <el-input\n                        v-model=\"editForm.ApiUrl\"\n                        auto-complete=\"off\"\n                    ></el-input>\n                </el-form-item>\n                <el-form-item label=\"接口描述\" prop=\"Name\">\n                    <el-input\n                        v-model=\"editForm.Name\"\n                        auto-complete=\"off\"\n                    ></el-input>\n                </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click.native=\"editFormVisible = false\"\n                    >取消</el-button\n                >\n                <el-button\n                    type=\"primary\"\n                    @click.native=\"editSubmit\"\n                    :loading=\"editLoading\"\n                    >提交</el-button\n                >\n            </div>\n        </el-dialog>\n\n        <!--新增界面-->\n        <el-dialog\n            title=\"新增\"\n            :visible.sync=\"addFormVisible\"\n            v-model=\"addFormVisible\"\n            :close-on-click-modal=\"false\"\n        >\n            <el-form\n                :model=\"addForm\"\n                label-width=\"80px\"\n                :rules=\"addFormRules\"\n                ref=\"addForm\"\n            >\n                <el-form-item label=\"接口地址\" prop=\"ApiUrl\">\n                    <el-input\n                        v-model=\"addForm.ApiUrl\"\n                        auto-complete=\"off\"\n                    ></el-input>\n                </el-form-item>\n                <el-form-item label=\"接口描述\" prop=\"Name\">\n                    <el-input\n                        v-model=\"addForm.Name\"\n                        auto-complete=\"off\"\n                    ></el-input>\n                </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click.native=\"addFormVisible = false\"\n                    >取消</el-button\n                >\n                <el-button\n                    type=\"primary\"\n                    @click.native=\"addSubmit\"\n                    :loading=\"addLoading\"\n                    >提交</el-button\n                >\n            </div>\n        </el-dialog>\n    </section>\n</template>\n\n<script>\nimport util from \"../../../util/date\";\nimport {\n    getModuleListPage,\n    removeModule,\n    editModule,\n    addModule,\n    getSwaggerJson,\n} from \"../../api/api\";\nimport { getButtonList } from \"../../promissionRouter\";\nimport Toolbar from \"../../components/Toolbar\";\n\nexport default {\n    components: { Toolbar },\n    data() {\n        return {\n            buttonList: [],\n            filters: {\n                ApiUrl: \"\",\n            },\n            users: [],\n            total: 0,\n            page: 1,\n            pageSize: 10,\n            listLoading: false,\n\n            addDialogFormVisible: false,\n            editFormVisible: false, //编辑界面是否显示\n            editLoading: false,\n            editFormRules: {\n                ApiUrl: [\n                    {\n                        required: true,\n                        message: \"请输入接口地址\",\n                        trigger: \"blur\",\n                    },\n                ],\n            },\n            //编辑界面数据\n            editForm: {\n                Id: \"0\",\n                ApiUrl: \"\",\n                Name: \"\",\n                Enabled: false,\n            },\n\n            addFormVisible: false, //新增界面是否显示\n            addLoading: false,\n            addFormRules: {\n                ApiUrl: [\n                    {\n                        required: true,\n                        message: \"请输入接口地址\",\n                        trigger: \"blur\",\n                    },\n                ],\n            },\n            //新增界面数据\n            addForm: {\n                ApiUrl: \"\",\n                Name: \"\",\n                Enabled: \"\",\n            },\n            canEdit: false,\n            canDelete: false,\n        };\n    },\n    methods: {\n        callFunction(item) {\n            this.filters = {\n                name: item.search,\n            };\n            this[item.Func].apply(this, item);\n        },\n\n        handleCurrentChange(val) {\n            this.page = val;\n            this.getModules();\n        },\n        //获取列表\n        getModules() {\n            let para = {\n                page: this.page,\n                size: this.pageSize,\n                keyword: this.filters.name,\n            };\n            this.listLoading = true;\n\n            getModuleListPage(para).then((res) => {\n                this.total = res.data.dataCount;\n                this.users = res.data.data;\n                this.listLoading = false;\n            });\n        },\n        //删除\n        handleDel(index, r) {\n            let row = r;\n            if (!row) {\n                this.$message({\n                    message: \"请选择要删除的一行数据！\",\n                    type: \"error\",\n                });\n\n                return;\n            }\n            this.$confirm(\"确认删除该记录吗?\", \"提示\", {\n                type: \"warning\",\n            })\n                .then(() => {\n                    this.listLoading = true;\n                    //NProgress.start();\n                    let para = { id: row.Id };\n                    removeModule(para).then((res) => {\n                        if (util.isEmt.format(res)) {\n                            this.listLoading = false;\n                            return;\n                        }\n                        this.listLoading = false;\n                        //NProgress.done();\n                        if (res.success) {\n                            this.$message({\n                                message: \"删除成功\",\n                                type: \"success\",\n                            });\n                        } else {\n                            this.$message({\n                                message: res.msg,\n                                type: \"error\",\n                            });\n                        }\n\n                        this.getModules();\n                    });\n                })\n                .catch(() => {});\n        },\n        //显示编辑界面\n        handleEdit(index, r) {\n            let row = r;\n            if (!row) {\n                this.$message({\n                    message: \"请选择要编辑的一行数据！\",\n                    type: \"error\",\n                });\n\n                return;\n            }\n            this.editFormVisible = true;\n            this.editForm = Object.assign({}, row);\n        },\n        //显示新增界面\n        handleAdd() {\n            this.addFormVisible = true;\n            this.addForm = {\n                ApiUrl: \"\",\n                Name: \"\",\n                Enabled: \"true\",\n            };\n        },\n        //编辑\n        editSubmit: function () {\n            this.$refs.editForm.validate((valid) => {\n                if (valid) {\n                    //this.$confirm(\"确认提交吗？\", \"提示\", {}).then(() => {\n                    this.editLoading = true;\n                    //NProgress.start();\n                    let para = Object.assign({}, this.editForm);\n                    editModule(para).then((res) => {\n                        if (util.isEmt.format(res)) {\n                            this.editLoading = false;\n                            return;\n                        }\n                        if (res.success) {\n                            this.editLoading = false;\n                            //NProgress.done();\n                            this.$message({\n                                message: \"修改成功\",\n                                type: \"success\",\n                            });\n                            this.$refs[\"editForm\"].resetFields();\n                            this.editFormVisible = false;\n                            this.getModules();\n                        } else {\n                            this.$message({\n                                message: res.msg,\n                                type: \"error\",\n                            });\n                        }\n                    });\n                    //});\n                }\n            });\n        },\n        //新增\n        addSubmit: function () {\n            let _this = this;\n            this.$refs.addForm.validate((valid) => {\n                if (valid) {\n                    //this.$confirm(\"确认提交吗？\", \"提示\", {}).then(() => {\n                    this.addLoading = true;\n                    let para = Object.assign({}, this.addForm);\n                    addModule(para).then((res) => {\n                        this.addLoading = false;\n                        if (res.success) {\n                            this.$message({\n                                message: \"新增成功\",\n                                type: \"success\",\n                            });\n                            this.$refs[\"addForm\"].resetFields();\n                            this.addFormVisible = false;\n                            this.getModules();\n                        } else {\n                            this.$message({\n                                message: res.msg,\n                                type: \"error\",\n                            });\n                        }\n                    });\n                    //});\n                }\n            });\n        },\n        async apiAsync() {\n            const loading = this.$loading({\n                lock: true,\n                text: \"Loading\",\n                spinner: \"el-icon-loading\",\n                background: \"rgba(0, 0, 0, 0.7)\",\n            });\n            await getSwaggerJson().then((res) => {\n                loading.close();\n                if (res.success) {\n                    this.$message({\n                        message: \"同步成功\",\n                        type: \"success\",\n                    });\n                } else {\n                    this.$message({\n                        message: \"同步失败\",\n                        type: \"success\",\n                    });\n                }\n            });\n        },\n    },\n    mounted() {\n        this.getModules();\n\n        let routers = window.sessionStorage.router\n            ? JSON.parse(window.sessionStorage.router)\n            : [];\n\n        let buttons = getButtonList(this.$route.path, routers);\n        buttons.forEach((element) => {\n            //&& element.IsButton && !element.IsHide\n            if (element.Func == \"handleEdit\") {\n                this.canEdit = true;\n            } else if (element.Func == \"handleDel\") {\n                this.canDelete = true;\n            } else {\n                this.buttonList.push(element);\n            }\n        });\n    },\n};\n</script>\n\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/Permission/Module.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('toolbar',{attrs:{\"buttonList\":_vm.buttonList},on:{\"callFunction\":_vm.callFunction}}),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.users,\"row-class-name\":_vm.$tableRowClassName}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{domProps:{\"textContent\":_vm._s((_vm.page - 1) * _vm.pageSize + 1 + scope.$index)}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ApiUrl\",\"label\":\"接口地址\",\"width\":\"\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Name\",\"label\":\"描述\",\"width\":\"\",\"sortable\":\"\"}}),_vm._v(\" \"),(_vm.canEdit || _vm.canDelete)?_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.canEdit)?_c('el-button',{attrs:{\"plain\":\"\",\"type\":\"warning\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]):_vm._e(),_vm._v(\" \"),(_vm.canDelete)?_c('el-button',{attrs:{\"plain\":\"\",\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleDel(scope.$index, scope.row)}}},[_vm._v(\"删除\")]):_vm._e()]}}],null,false,917012342)}):_vm._e()],1),_vm._v(\" \"),_c('el-col',{staticClass:\"toolbar\",attrs:{\"span\":24}},[_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"layout\":\"total, prev, pager, next, jumper\",\"page-size\":_vm.pageSize,\"current-page\":_vm.page,\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"编辑\",\"visible\":_vm.editFormVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.editFormVisible=$event}},model:{value:(_vm.editFormVisible),callback:function ($$v) {_vm.editFormVisible=$$v},expression:\"editFormVisible\"}},[_c('el-form',{ref:\"editForm\",attrs:{\"model\":_vm.editForm,\"label-width\":\"80px\",\"rules\":_vm.editFormRules}},[_c('el-form-item',{attrs:{\"label\":\"接口地址\",\"prop\":\"ApiUrl\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.editForm.ApiUrl),callback:function ($$v) {_vm.$set(_vm.editForm, \"ApiUrl\", $$v)},expression:\"editForm.ApiUrl\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"接口描述\",\"prop\":\"Name\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.editForm.Name),callback:function ($$v) {_vm.$set(_vm.editForm, \"Name\", $$v)},expression:\"editForm.Name\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){_vm.editFormVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.editLoading},nativeOn:{\"click\":function($event){return _vm.editSubmit($event)}}},[_vm._v(\"提交\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"新增\",\"visible\":_vm.addFormVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.addFormVisible=$event}},model:{value:(_vm.addFormVisible),callback:function ($$v) {_vm.addFormVisible=$$v},expression:\"addFormVisible\"}},[_c('el-form',{ref:\"addForm\",attrs:{\"model\":_vm.addForm,\"label-width\":\"80px\",\"rules\":_vm.addFormRules}},[_c('el-form-item',{attrs:{\"label\":\"接口地址\",\"prop\":\"ApiUrl\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.addForm.ApiUrl),callback:function ($$v) {_vm.$set(_vm.addForm, \"ApiUrl\", $$v)},expression:\"addForm.ApiUrl\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"接口描述\",\"prop\":\"Name\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.addForm.Name),callback:function ($$v) {_vm.$set(_vm.addForm, \"Name\", $$v)},expression:\"addForm.Name\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){_vm.addFormVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.addLoading},nativeOn:{\"click\":function($event){return _vm.addSubmit($event)}}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ecc8e524\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Permission/Module.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ecc8e524\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Module.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Module.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Module.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ecc8e524\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Module.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ecc8e524\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Permission/Module.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}