{"version":3,"sources":["webpack:///src/views/Permission/Systems.vue","webpack:///./src/views/Permission/Systems.vue?8d06","webpack:///./src/views/Permission/Systems.vue"],"names":["Systems","components","Toolbar","data","buttonList","filters","ApiUrl","systems","total","page","pageSize","listLoading","addDialogFormVisible","editFormVisible","editLoading","editFormRules","Name","required","message","trigger","Secret","editForm","Id","Url","sortno","Note","addFormVisible","addLoading","addFormRules","addForm","canEdit","canDelete","methods","callFunction","item","this","name","search","Func","apply","handleCurrentChange","val","getSystems","_this2","para","size","keyword","Object","api","then","res","dataCount","handleDel","index","r","_this3","row","$confirm","type","id","date","isEmt","format","success","$message","msg","catch","handleEdit","assign_default","handleAdd","Enabled","editSubmit","_this4","$refs","validate","valid","resetFields","addSubmit","_this5","mounted","_this6","routers","window","sessionStorage","router","JSON","parse","promissionRouter","$route","path","forEach","element","push","Permission_Systems","render","_vm","_h","$createElement","_c","_self","attrs","on","_v","directives","rawName","value","expression","staticStyle","width","row-class-name","$tableRowClassName","prop","label","sortable","scopedSlots","_u","key","fn","scope","plain","click","$event","$index","_e","staticClass","span","float","layout","page-size","current-page","current-change","title","visible","close-on-click-modal","update:visible","model","callback","$$v","ref","label-width","rules","auto-complete","$set","slot","nativeOn","loading","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"../static/js/32.6680c104964457372e79.js","sourcesContent":["<template>\r\n    <section>\r\n        <!--工具条-->\r\n        <toolbar\r\n            :buttonList=\"buttonList\"\r\n            @callFunction=\"callFunction\"\r\n        ></toolbar>\r\n        <!--列表-->\r\n        <el-table\r\n            :data=\"systems\"\r\n            :row-class-name=\"$tableRowClassName\"\r\n            v-loading=\"listLoading\"\r\n            style=\"width: 100%\"\r\n        >\r\n            <!-- <el-table-column type=\"selection\" width=\"50\"> </el-table-column> -->\r\n            <el-table-column type=\"index\" width=\"80\"> </el-table-column>\r\n            <el-table-column prop=\"Name\" label=\"系统名称\" width=\"\" sortable>\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"Url\"\r\n                label=\"系统地址\"\r\n                width=\"\"\r\n                sortable\r\n            ></el-table-column>\r\n            <el-table-column\r\n                prop=\"Note\"\r\n                label=\"备注\"\r\n                width=\"\"\r\n            ></el-table-column>\r\n            <el-table-column\r\n                prop=\"Secret\"\r\n                label=\"密钥\"\r\n                width=\"\"\r\n                sortable\r\n            ></el-table-column>\r\n            <el-table-column\r\n                label=\"操作\"\r\n                width=\"150\"\r\n                v-if=\"canEdit || canDelete\"\r\n            >\r\n                <template slot-scope=\"scope\">\r\n                    <el-button\r\n                        v-if=\"canEdit\"\r\n                        plain\r\n                        type=\"warning\"\r\n                        size=\"small\"\r\n                        @click=\"handleEdit(scope.$index, scope.row)\"\r\n                        >编辑</el-button\r\n                    >\r\n                    <el-button\r\n                        v-if=\"canDelete\"\r\n                        plain\r\n                        type=\"danger\"\r\n                        size=\"small\"\r\n                        @click=\"handleDel(scope.$index, scope.row)\"\r\n                        >删除</el-button\r\n                    >\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <!--工具条-->\r\n        <el-col :span=\"24\" class=\"toolbar\">\r\n            <el-pagination\r\n                layout=\"total, prev, pager, next, jumper\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :page-size=\"pageSize\"\r\n                :current-page=\"page\"\r\n                :total=\"total\"\r\n                style=\"float: right\"\r\n            >\r\n            </el-pagination>\r\n        </el-col>\r\n\r\n        <!--编辑界面-->\r\n        <el-dialog\r\n            title=\"编辑\"\r\n            :visible.sync=\"editFormVisible\"\r\n            v-model=\"editFormVisible\"\r\n            :close-on-click-modal=\"false\"\r\n        >\r\n            <el-form\r\n                :model=\"editForm\"\r\n                label-width=\"100px\"\r\n                :rules=\"editFormRules\"\r\n                ref=\"editForm\"\r\n            >\r\n                <el-form-item label=\"系统名称\" prop=\"Name\">\r\n                    <el-input\r\n                        v-model=\"editForm.Name\"\r\n                        auto-complete=\"off\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"系统地址\" prop=\"Url\">\r\n                    <el-input\r\n                        v-model=\"editForm.Url\"\r\n                        auto-complete=\"off\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"系统Secret\" prop=\"Secret\">\r\n                    <el-input\r\n                        v-model=\"editForm.Secret\"\r\n                        auto-complete=\"off\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"排序\" prop=\"sortno\">\r\n                    <el-input\r\n                        v-model=\"editForm.sortno\"\r\n                        auto-complete=\"off\"\r\n                        type=\"number\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"备注\" prop=\"Note\">\r\n                    <el-input\r\n                        v-model=\"editForm.Note\"\r\n                        auto-complete=\"off\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click.native=\"editFormVisible = false\"\r\n                    >取消</el-button\r\n                >\r\n                <el-button\r\n                    type=\"primary\"\r\n                    @click.native=\"editSubmit\"\r\n                    :loading=\"editLoading\"\r\n                    >提交</el-button\r\n                >\r\n            </div>\r\n        </el-dialog>\r\n\r\n        <!--新增界面-->\r\n        <el-dialog\r\n            title=\"新增\"\r\n            :visible.sync=\"addFormVisible\"\r\n            v-model=\"addFormVisible\"\r\n            :close-on-click-modal=\"false\"\r\n        >\r\n            <el-form\r\n                :model=\"addForm\"\r\n                label-width=\"100px\"\r\n                :rules=\"addFormRules\"\r\n                ref=\"addForm\"\r\n            >\r\n                <el-form-item label=\"系统名称\" prop=\"Name\">\r\n                    <el-input\r\n                        v-model=\"addForm.Name\"\r\n                        auto-complete=\"off\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"系统地址\" prop=\"Url\">\r\n                    <el-input\r\n                        v-model=\"addForm.Url\"\r\n                        auto-complete=\"off\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"系统Secret\" prop=\"Secret\">\r\n                    <el-input\r\n                        v-model=\"addForm.Secret\"\r\n                        auto-complete=\"off\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"排序\" prop=\"sortno\">\r\n                    <el-input\r\n                        v-model=\"addForm.sortno\"\r\n                        auto-complete=\"off\"\r\n                        type=\"number\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"备注\" prop=\"Note\">\r\n                    <el-input\r\n                        v-model=\"addForm.Note\"\r\n                        auto-complete=\"off\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click.native=\"addFormVisible = false\"\r\n                    >取消</el-button\r\n                >\r\n                <el-button\r\n                    type=\"primary\"\r\n                    @click.native=\"addSubmit\"\r\n                    :loading=\"addLoading\"\r\n                    >提交</el-button\r\n                >\r\n            </div>\r\n        </el-dialog>\r\n    </section>\r\n</template>\r\n<script>\r\nimport util from \"../../../util/date\";\r\nimport {\r\n    getSystemListPage,\r\n    removeSystem,\r\n    editSystem,\r\n    addSystem,\r\n} from \"../../api/api\";\r\nimport { getButtonList } from \"../../promissionRouter\";\r\nimport Toolbar from \"../../components/Toolbar\";\r\n\r\nexport default {\r\n    components: { Toolbar },\r\n    data() {\r\n        return {\r\n            buttonList: [],\r\n            filters: {\r\n                ApiUrl: \"\",\r\n            },\r\n            systems: [],\r\n            total: 0,\r\n            page: 1,\r\n            pageSize: 20,\r\n            listLoading: false,\r\n\r\n            addDialogFormVisible: false,\r\n            editFormVisible: false, //编辑界面是否显示\r\n            editLoading: false,\r\n            editFormRules: {\r\n                Name: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入系统名称\",\r\n                        trigger: \"blur\",\r\n                    },\r\n                ],\r\n                Secret: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入系统Secret\",\r\n                        trigger: \"blur\",\r\n                    },\r\n                ],\r\n            },\r\n            //编辑界面数据\r\n            editForm: {\r\n                Id: \"0\",\r\n                Name: \"\",\r\n                Url: \"\",\r\n                Secret: \"\",\r\n                sortno: 0,\r\n                Note: \"\",\r\n            },\r\n\r\n            addFormVisible: false, //新增界面是否显示\r\n            addLoading: false,\r\n            addFormRules: {\r\n                Name: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入系统名称\",\r\n                        trigger: \"blur\",\r\n                    },\r\n                ],\r\n                Secret: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入系统Secret\",\r\n                        trigger: \"blur\",\r\n                    },\r\n                ],\r\n            },\r\n            //新增界面数据\r\n            addForm: {\r\n                Name: \"\",\r\n                Url: \"\",\r\n                Secret: \"\",\r\n                sortno: 0,\r\n                Note: \"\",\r\n            },\r\n            canEdit: false,\r\n            canDelete: false,\r\n        };\r\n    },\r\n    methods: {\r\n        callFunction(item) {\r\n            this.filters = {\r\n                name: item.search,\r\n            };\r\n            this[item.Func].apply(this, item);\r\n        },\r\n        handleCurrentChange(val) {\r\n            this.page = val;\r\n            this.getSystems();\r\n        },\r\n        getSystems() {\r\n            let para = {\r\n                page: this.page,\r\n                size: this.pageSize,\r\n                keyword: this.filters.ApiUrl,\r\n            };\r\n            this.listLoading = true;\r\n\r\n            getSystemListPage(para).then((res) => {\r\n                this.total = res.data.dataCount;\r\n                this.systems = res.data.data;\r\n                this.listLoading = false;\r\n            });\r\n        },\r\n        //删除\r\n        handleDel(index, r) {\r\n            let row = r;\r\n            if (!row) {\r\n                this.$message({\r\n                    message: \"请选择要删除的一行数据！\",\r\n                    type: \"error\",\r\n                });\r\n\r\n                return;\r\n            }\r\n            this.$confirm(\"确认删除该记录吗?\", \"提示\", {\r\n                type: \"warning\",\r\n            })\r\n                .then(() => {\r\n                    this.listLoading = true;\r\n                    //NProgress.start();\r\n                    let para = { id: row.Id };\r\n                    removeSystem(para).then((res) => {\r\n                        if (util.isEmt.format(res)) {\r\n                            this.listLoading = false;\r\n                            return;\r\n                        }\r\n                        this.listLoading = false;\r\n                        //NProgress.done();\r\n                        if (res.success) {\r\n                            this.$message({\r\n                                message: \"删除成功\",\r\n                                type: \"success\",\r\n                            });\r\n                        } else {\r\n                            this.$message({\r\n                                message: res.msg,\r\n                                type: \"error\",\r\n                            });\r\n                        }\r\n\r\n                        this.getSystems();\r\n                    });\r\n                })\r\n                .catch(() => {});\r\n        },\r\n        //显示编辑界面\r\n        handleEdit(index, r) {\r\n            let row = r;\r\n            if (!row) {\r\n                this.$message({\r\n                    message: \"请选择要编辑的一行数据！\",\r\n                    type: \"error\",\r\n                });\r\n\r\n                return;\r\n            }\r\n            this.editFormVisible = true;\r\n            this.editForm = Object.assign({}, row);\r\n        },\r\n        //显示新增界面\r\n        handleAdd() {\r\n            this.addFormVisible = true;\r\n            this.addForm = {\r\n                ApiUrl: \"\",\r\n                Name: \"\",\r\n                Enabled: \"true\",\r\n            };\r\n        },\r\n        //编辑\r\n        editSubmit: function () {\r\n            this.$refs.editForm.validate((valid) => {\r\n                if (valid) {\r\n                    //this.$confirm(\"确认提交吗？\", \"提示\", {}).then(() => {\r\n                    this.editLoading = true;\r\n                    //NProgress.start();\r\n                    let para = Object.assign({}, this.editForm);\r\n                    editSystem(para).then((res) => {\r\n                        if (util.isEmt.format(res)) {\r\n                            this.editLoading = false;\r\n                            return;\r\n                        }\r\n                        if (res.success) {\r\n                            this.editLoading = false;\r\n                            //NProgress.done();\r\n                            this.$message({\r\n                                message: \"修改成功\",\r\n                                type: \"success\",\r\n                            });\r\n                            this.$refs[\"editForm\"].resetFields();\r\n                            this.editFormVisible = false;\r\n                            this.getSystems();\r\n                        } else {\r\n                            this.$message({\r\n                                message: res.msg,\r\n                                type: \"error\",\r\n                            });\r\n                        }\r\n                    });\r\n                    //});\r\n                }\r\n            });\r\n        },\r\n        //新增\r\n        addSubmit: function () {\r\n            let _this = this;\r\n            this.$refs.addForm.validate((valid) => {\r\n                if (valid) {\r\n                    //this.$confirm(\"确认提交吗？\", \"提示\", {}).then(() => {\r\n                    this.addLoading = true;\r\n                    let para = Object.assign({}, this.addForm);\r\n                    addSystem(para).then((res) => {\r\n                        if (util.isEmt.format(res)) {\r\n                            this.addLoading = false;\r\n                            return;\r\n                        }\r\n\r\n                        if (res.success) {\r\n                            this.addLoading = false;\r\n                            this.$message({\r\n                                message: \"新增成功\",\r\n                                type: \"success\",\r\n                            });\r\n                            this.$refs[\"addForm\"].resetFields();\r\n                            this.addFormVisible = false;\r\n                            this.getSystems();\r\n                        } else {\r\n                            this.$message({\r\n                                message: res.msg,\r\n                                type: \"error\",\r\n                            });\r\n                        }\r\n                    });\r\n                    //});\r\n                }\r\n            });\r\n        },\r\n    },\r\n    mounted() {\r\n        this.getSystems();\r\n\r\n        let routers = window.sessionStorage.router\r\n            ? JSON.parse(window.sessionStorage.router)\r\n            : [];\r\n        let buttons = getButtonList(this.$route.path, routers);\r\n        buttons.forEach((element) => {\r\n            //&& element.IsButton && !element.IsHide\r\n            if (element.Func == \"handleEdit\") {\r\n                this.canEdit = true;\r\n            } else if (element.Func == \"handleDel\") {\r\n                this.canDelete = true;\r\n            } else {\r\n                this.buttonList.push(element);\r\n            }\r\n        });\r\n    },\r\n};\r\n</script>\r\n<style scoped>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/Permission/Systems.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('toolbar',{attrs:{\"buttonList\":_vm.buttonList},on:{\"callFunction\":_vm.callFunction}}),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.systems,\"row-class-name\":_vm.$tableRowClassName}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Name\",\"label\":\"系统名称\",\"width\":\"\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Url\",\"label\":\"系统地址\",\"width\":\"\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Note\",\"label\":\"备注\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Secret\",\"label\":\"密钥\",\"width\":\"\",\"sortable\":\"\"}}),_vm._v(\" \"),(_vm.canEdit || _vm.canDelete)?_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.canEdit)?_c('el-button',{attrs:{\"plain\":\"\",\"type\":\"warning\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]):_vm._e(),_vm._v(\" \"),(_vm.canDelete)?_c('el-button',{attrs:{\"plain\":\"\",\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleDel(scope.$index, scope.row)}}},[_vm._v(\"删除\")]):_vm._e()]}}],null,false,917012342)}):_vm._e()],1),_vm._v(\" \"),_c('el-col',{staticClass:\"toolbar\",attrs:{\"span\":24}},[_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"layout\":\"total, prev, pager, next, jumper\",\"page-size\":_vm.pageSize,\"current-page\":_vm.page,\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"编辑\",\"visible\":_vm.editFormVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.editFormVisible=$event}},model:{value:(_vm.editFormVisible),callback:function ($$v) {_vm.editFormVisible=$$v},expression:\"editFormVisible\"}},[_c('el-form',{ref:\"editForm\",attrs:{\"model\":_vm.editForm,\"label-width\":\"100px\",\"rules\":_vm.editFormRules}},[_c('el-form-item',{attrs:{\"label\":\"系统名称\",\"prop\":\"Name\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.editForm.Name),callback:function ($$v) {_vm.$set(_vm.editForm, \"Name\", $$v)},expression:\"editForm.Name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"系统地址\",\"prop\":\"Url\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.editForm.Url),callback:function ($$v) {_vm.$set(_vm.editForm, \"Url\", $$v)},expression:\"editForm.Url\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"系统Secret\",\"prop\":\"Secret\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.editForm.Secret),callback:function ($$v) {_vm.$set(_vm.editForm, \"Secret\", $$v)},expression:\"editForm.Secret\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"排序\",\"prop\":\"sortno\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\",\"type\":\"number\"},model:{value:(_vm.editForm.sortno),callback:function ($$v) {_vm.$set(_vm.editForm, \"sortno\", $$v)},expression:\"editForm.sortno\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"Note\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.editForm.Note),callback:function ($$v) {_vm.$set(_vm.editForm, \"Note\", $$v)},expression:\"editForm.Note\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){_vm.editFormVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.editLoading},nativeOn:{\"click\":function($event){return _vm.editSubmit($event)}}},[_vm._v(\"提交\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"新增\",\"visible\":_vm.addFormVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.addFormVisible=$event}},model:{value:(_vm.addFormVisible),callback:function ($$v) {_vm.addFormVisible=$$v},expression:\"addFormVisible\"}},[_c('el-form',{ref:\"addForm\",attrs:{\"model\":_vm.addForm,\"label-width\":\"100px\",\"rules\":_vm.addFormRules}},[_c('el-form-item',{attrs:{\"label\":\"系统名称\",\"prop\":\"Name\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.addForm.Name),callback:function ($$v) {_vm.$set(_vm.addForm, \"Name\", $$v)},expression:\"addForm.Name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"系统地址\",\"prop\":\"Url\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.addForm.Url),callback:function ($$v) {_vm.$set(_vm.addForm, \"Url\", $$v)},expression:\"addForm.Url\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"系统Secret\",\"prop\":\"Secret\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.addForm.Secret),callback:function ($$v) {_vm.$set(_vm.addForm, \"Secret\", $$v)},expression:\"addForm.Secret\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"排序\",\"prop\":\"sortno\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\",\"type\":\"number\"},model:{value:(_vm.addForm.sortno),callback:function ($$v) {_vm.$set(_vm.addForm, \"sortno\", $$v)},expression:\"addForm.sortno\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"Note\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.addForm.Note),callback:function ($$v) {_vm.$set(_vm.addForm, \"Note\", $$v)},expression:\"addForm.Note\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){_vm.addFormVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.addLoading},nativeOn:{\"click\":function($event){return _vm.addSubmit($event)}}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-69c59be6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Permission/Systems.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-69c59be6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Systems.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Systems.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Systems.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-69c59be6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Systems.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-69c59be6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Permission/Systems.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}